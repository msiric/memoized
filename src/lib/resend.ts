import { APP_NAME } from '@/constants'
import { ServiceError } from '@/utils/error'
import { User } from '@prisma/client'
import { Resend } from 'resend'

const resend = new Resend(process.env.RESEND_TOKEN)

const WelcomeEmail = (name: string | null) => {
  return `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html dir="ltr" lang="en">
    <head>
      <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
      <meta name="x-apple-disable-message-reformatting" />
    </head>
    </div>
    <body style="background-color:#ffffff;font-family:-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,Oxygen-Sans,Ubuntu,Cantarell,&quot;Helvetica Neue&quot;,sans-serif">
      <table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:37.5em;margin:0 auto;padding:20px 0 48px">
        <tbody>
          <tr style="width:100%">
            <td>
              <img alt="Logo" height="50" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJMYXllcl8xIiBkYXRhLW5hbWU9IkxheWVyIDEiIHZpZXdCb3g9IjEyMS41Njk5OTIwNjU0Mjk2OSA2MDQuNzg5OTc4MDI3MzQzOCAxMjU4LjYyOTcxNDk2NTgyMDMgMjE2LjIyNDM2NTIzNDM3NSIgY2xhc3M9ImgtNyI+PGRlZnM+PHN0eWxlPgogICAgICAgICAgICAuY2xzLTF7ZmlsbDojODRjYzE2O30KICAgICAgICAgICAgLmNscy0ye2ZpbGw6bm9uZTtzdHJva2U6Izg0Y2MxNjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7fQogICAgICAgICAgPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTI2MC4zMiA2MzEuNDhoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5ek0yNDQuOSA2NTguMTloLTMwLjgzbDE1LjQyLTI2LjcgMTUuNDEgMjYuN3pNMjc1Ljc0IDY1OC4xOUgyNDQuOWwxNS40Mi0yNi43IDE1LjQyIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjI5LjQ5IDY4NC44OWgtMzAuODRsMTUuNDItMjYuNyAxNS40MiAyNi43eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTIxNC4wNyA3MTEuNTdoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5ek0yNDQuOSA3MTEuNTdoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5ek0yOTEuMTUgNjg0Ljg5aC0zMC44M2wxNS40Mi0yNi43IDE1LjQxIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc0IDcxMS41N0gyNDQuOWwxNS40Mi0yNi42OSAxNS40MiAyNi42OXpNMzA2LjU3IDcxMS41N2gtMzAuODNsMTUuNDEtMjYuNjkgMTUuNDIgMjYuNjl6TTE5OC42NSA3MzguMjdoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTE4My4yNCA3NjQuOTZIMTUyLjRsMTUuNDItMjYuNyAxNS40MiAyNi43ek0yMTQuMDcgNzY0Ljk2aC0zMC44M2wxNS40MS0yNi43IDE1LjQyIDI2Ljd6TTE2Ny44MiA3OTEuNjZoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTE1Mi40IDgxOC4zNWgtMzAuODNsMTUuNDItMjYuNyAxNS40MSAyNi43ek0xODMuMjQgODE4LjM1SDE1Mi40bDE1LjQyLTI2LjcgMTUuNDIgMjYuN3pNMjI5LjQ5IDc5MS42NmgtMzAuODRsMTUuNDItMjYuNjkgMTUuNDIgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjE0LjA3IDgxOC4zNWgtMzAuODNsMTUuNDEtMjYuNyAxNS40MiAyNi43ek0yNDQuOSA4MTguMzVoLTMwLjgzbDE1LjQyLTI2LjcgMTUuNDEgMjYuN3pNMjkxLjE1IDc5MS42NmgtMzAuODNsMTUuNDItMjYuNjkgMTUuNDEgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc0IDgxOC4zNUgyNDQuOWwxNS40Mi0yNi43IDE1LjQyIDI2Ljd6TTMwNi41NyA4MTguMzVoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3pNMzUyLjgyIDc5MS42NmgtMzAuODRsMTUuNDItMjYuNjkgMTUuNDIgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMzM3LjQgODE4LjM1aC0zMC44M2wxNS40MS0yNi43IDE1LjQyIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMzY4LjIzIDgxOC4zNUgzMzcuNGwxNS40Mi0yNi43IDE1LjQxIDI2Ljd6TTMyMS45OCA3MzguMjhoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTMwNi41NyA3NjQuOTdoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3oiIGNsYXNzPSJjbHMtMSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzcuNCA3NjQuOTdoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3oiIGNsYXNzPSJjbHMtMSI+PC9wYXRoPjxwYXRoIGQ9Im0yNDQuOSA4MTguMzcgNjEuNjctMTA2Ljc5IDYxLjY2IDEwNi43OUgyNDQuOXpNMTIxLjU3IDgxOC4zN2w2MS42Ny0xMDYuNzkgNjEuNjYgMTA2Ljc5SDEyMS41N3oiIGNsYXNzPSJjbHMtMiI+PC9wYXRoPjxwYXRoIGQ9Ik0yNzcuMTkgNzY1SDMzNmEuODQuODQgMCAwIDEgLjcyIDEuMjZsLTI5LjM4IDUwLjg4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTI5LjM4LTUwLjg4YS44NC44NCAwIDAgMSAuNjgtMS4yNlpNMjkyLjYxIDczOC4yOWgyNy45MmEuODMuODMgMCAwIDEgLjczIDEuMjVsLTE0IDI0LjE4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTE0LTI0LjE4YS44My44MyAwIDAgMSAuOC0xLjI1Wk0zMjMuNDQgNzkxLjY3aDI3LjkyYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44MS0xLjI2Wk0yNjEuNzcgNzkxLjY3aDI3LjkzYS44NC44NCAwIDAgMSAuNzIgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44LTEuMjZaTTE1My44NiA3NjVoNTguNzVhLjg0Ljg0IDAgMCAxIC43MyAxLjI2TDE4NCA4MTcuMTJhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMjkuMzgtNTAuODhhLjg0Ljg0IDAgMCAxIC42OS0xLjI0Wk0xNjkuMjcgNzM4LjI5aDI3LjkzYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC43OS0xLjI2Wk0yMDAuMTEgNzkxLjY4SDIyOGEuODQuODQgMCAwIDEgLjczIDEuMjZsLTE0IDI0LjE4YS44NS44NSAwIDAgMS0xLjQ2IDBsLTE0LTI0LjE4YS44NC44NCAwIDAgMSAuODQtMS4yNlpNMTM4LjQ0IDc5MS42OGgyNy45M2EuODQuODQgMCAwIDEgLjcyIDEuMjZsLTE0IDI0LjE4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTE0LTI0LjE4YS44NC44NCAwIDAgMSAuOC0xLjI2Wk0xODMuMjQgNzExLjU5IDI0NC45IDYwNC44bDYxLjY3IDEwNi43OUgxODMuMjR6IiBjbGFzcz0iY2xzLTIiPjwvcGF0aD48cGF0aCBkPSJNMjE1LjUyIDY1OC4yaDU4Ljc2YS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMjkuMzggNTAuODdhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMjkuMzctNTAuODdhLjg0Ljg0IDAgMCAxIC43Mi0xLjI2Wk0yMzAuOTQgNjMxLjUxaDI3LjkyYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMTdhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMTdhLjg0Ljg0IDAgMCAxIC44MS0xLjI2Wk0yNjEuNzcgNjg0Ljg5aDI3LjkzYS44NC44NCAwIDAgMSAuNzIgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44LTEuMjZaTTIwMC4xMSA2ODQuODlIMjI4YS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44NC0xLjI2WiIgY2xhc3M9ImNscy0yIj48L3BhdGg+PHBhdGggZD0iTTM5Mi42NyA4MTguMzVWNzE2YS40NS40NSAwIDAgMSAuNDUtLjQ1SDQxNGEuNDUuNDUgMCAwIDEgLjQ1LjRsMSA5LjY5YS40NS40NSAwIDAgMCAuNzIuMyA2MS43OCA2MS43OCAwIDAgMSAxNi4xMy05LjA4IDU0LjY2IDU0LjY2IDAgMCAxIDE5LjYtMy40OXExMS4xIDAgMTcuMzEgMy42YTIzLjkzIDIzLjkzIDAgMCAxIDkuMjMgOS40NC40My40MyAwIDAgMCAuNjUuMTMgNjQuNTMgNjQuNTMgMCAwIDEgMTYuMTQtOS4zNnE5LjM2LTMuODEgMjIuNDMtMy44MSAxNy44NyAwIDI2LjM1IDkuMTV0OC40OSAyOC4wOXY2Ny43MWEuNDQuNDQgMCAwIDEtLjQ0LjQ1aC0yMi40MWEuNDUuNDUgMCAwIDEtLjQ1LS40NVY3NTNxMC0xMi01LTE2Ljc2dC0xNi4zNC00Ljc5YTM4LjA2IDM4LjA2IDAgMCAwLTE0IDIuNjEgMzAuMzQgMzAuMzQgMCAwIDAtMTEuMjcgNy42Ni40NS40NSAwIDAgMC0uMS40MiAyNy45NCAyNy45NCAwIDAgMSAuODEgNC43N2MuMTQgMS43NC4yMiAzLjYzLjIyIDUuNjZ2NjUuNzVhLjQ1LjQ1IDAgMCAxLS40NS40NWgtMjEuMWEuNDUuNDUgMCAwIDEtLjQ1LS40NXYtNjUuMXEwLTExLjMxLTMuOTItMTYuNTV0LTE0LjgxLTUuMjJhMzAuNzQgMzAuNzQgMCAwIDAtMTQuNDggMy41OSA1Ny4zMiA1Ny4zMiAwIDAgMC0xMi4xNSA4LjQ3LjQxLjQxIDAgMCAwLS4xNS4zM3Y3NC40OGEuNDUuNDUgMCAwIDEtLjQ1LjQ1aC0yMi40YS40NS40NSAwIDAgMS0uNDktLjQyWk02MjkuMTYgODIxcS0yNyAwLTQxLjgxLTEzLjI5VDU3Mi41NCA3NjdxMC0yNC44MyAxMi42My0zOS4ydDM4LjMyLTE0LjM3cTIzLjUyIDAgMzUuMzkgMTIuMzF0MTEuODcgMzEuNjh2MTguNzJhLjQ1LjQ1IDAgMCAxLS40NS40NGgtNzQuNjFhLjQ1LjQ1IDAgMCAwLS40NC41MXExLjgzIDE0LjYxIDEwLjgyIDIwLjE4IDkuMTUgNS42NyAyNy44OCA1LjY2YTg4LjU2IDg4LjU2IDAgMCAwIDE2LjExLTEuNTIgODAuNTIgODAuNTIgMCAwIDAgMTMuNzgtMy42OS40My40MyAwIDAgMSAuNTkuNDF2MTYuNDhhLjQ2LjQ2IDAgMCAxLS4yNy40MiA2OC41IDY4LjUgMCAwIDEtMTUuNzMgNC40NSAxMTUuNTIgMTE1LjUyIDAgMCAxLTE5LjI3IDEuNTJabS0zMy41Mi01OS44OWg1My43NmEuNDQuNDQgMCAwIDAgLjQ0LS40NHYtNi43NHEwLTEwLjY4LTUuODgtMTYuNjZ0LTE5LjgxLTZxLTE2LjU2IDAtMjIuNzYgNy4xOHQtNi4yIDIyLjJhLjQ1LjQ1IDAgMCAwIC40NS40NFpNNjkzLjgzIDgxOC4zNVY3MTZhLjQ1LjQ1IDAgMCAxIC40NC0uNDVoMjAuOTNhLjQ0LjQ0IDAgMCAxIC40NC40bDEgOS42OWEuNDQuNDQgMCAwIDAgLjcxLjMgNjEuNjcgNjEuNjcgMCAwIDEgMTYuMTQtOS4wOCA1NC42NiA1NC42NiAwIDAgMSAxOS42LTMuNDlxMTEuMSAwIDE3LjMxIDMuNmEyMy44NCAyMy44NCAwIDAgMSA5LjIyIDkuNDQuNDQuNDQgMCAwIDAgLjY2LjEzIDY0LjUzIDY0LjUzIDAgMCAxIDE2LjE0LTkuMzZxOS4zNi0zLjgxIDIyLjQzLTMuODEgMTcuODUgMCAyNi4zNSA5LjE1dDguNDkgMjguMDl2NjcuNzFhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMjIuNDRhLjQ1LjQ1IDAgMCAxLS40NS0uNDVWNzUzcTAtMTItNS0xNi43NlQ4MDkgNzMxLjQ4YTM4IDM4IDAgMCAwLTE0IDIuNjEgMzAuMjYgMzAuMjYgMCAwIDAtMTEuMjcgNy42Ni40NS40NSAwIDAgMC0uMS40MiAyNy45NCAyNy45NCAwIDAgMSAuODEgNC43N2MuMTQgMS43NC4yMSAzLjYzLjIxIDUuNjZ2NjUuNzVhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMjEuMWEuNDUuNDUgMCAwIDEtLjQ1LS40NXYtNjUuMXEwLTExLjMxLTMuOTItMTYuNTV0LTE0LjgxLTUuMjJhMzAuNzEgMzAuNzEgMCAwIDAtMTQuNDggMy41OSA1Ny42NCA1Ny42NCAwIDAgMC0xMi4xNiA4LjQ3LjQ0LjQ0IDAgMCAwLS4xNC4zM3Y3NC40OGEuNDUuNDUgMCAwIDEtLjQ1LjQ1aC0yMi40M2EuNDUuNDUgMCAwIDEtLjQ0LS40NVpNOTI3LjQ4IDgyMXEtMjcuODcgMC00MC44My0xMy45NHQtMTIuOTUtMzkuODdxMC0yNS45MiAxMy4wNi0zOS44NXQ0MC43Mi0xMy45NHEyNy44NyAwIDQwLjk0IDEzLjk0dDEzLjA3IDM5Ljg1cTAgMjUuOTItMTMgMzkuODVUOTI3LjQ4IDgyMVptMC0yMHExNi4zNCAwIDIzLjE5LTh0Ni44Ni0yNS44cTAtMTcuODUtNi44Ni0yNS43dC0yMy4xOS03Ljg0cS0xNi4xMSAwLTIzIDcuODR0LTYuODYgMjUuN3EwIDE3Ljg1IDYuODYgMjUuOHQyMyA3Ljk0Wk0xMDEwLjg5IDgxOC4zNVY3MzQuMWEuNDUuNDUgMCAwIDAtLjQ1LS40NWgtMTIuNjFhLjQ1LjQ1IDAgMCAxLS40NS0uNDRWNzE2YS40NS40NSAwIDAgMSAuNDUtLjQ1aDM2LjM1YS40NS40NSAwIDAgMSAuNDQuNDV2MTAyLjM1YS40NS40NSAwIDAgMS0uNDQuNDVoLTIyLjg1YS40NS40NSAwIDAgMS0uNDQtLjQ1Wm0tMi0xMjQuNzd2LTE4LjcxYS40NS40NSAwIDAgMSAuNDQtLjQ1aDI1YS40NS40NSAwIDAgMSAuNDUuNDV2MTguNzFhLjQ1LjQ1IDAgMCAxLS40NS40NGgtMjVhLjQ0LjQ0IDAgMCAxLS40LS40NFpNMTA1Ny45MiA4MTguMzV2LTExLjgxYS40Mi40MiAwIDAgMSAuMS0uMjhsNTUuNzMtNzAuNThhLjQ1LjQ1IDAgMCAwLS4zNS0uNzJIMTA2MWEuNDUuNDUgMCAwIDEtLjQ1LS40NVY3MTZhLjQ1LjQ1IDAgMCAxIC40NS0uNDVoODIuMDdhLjQ1LjQ1IDAgMCAxIC40NS40NXYxNGEuMzkuMzkgMCAwIDEtLjEuMjdsLTU0LjY0IDY5LjQ5YS40NS40NSAwIDAgMCAuMzUuNzNoNTUuNDdhLjQ0LjQ0IDAgMCAxIC40NC40NHYxNy40YS40NS40NSAwIDAgMS0uNDQuNDVoLTg2LjIxYS40NS40NSAwIDAgMS0uNDctLjQzWk0xMjE2LjIzIDgyMXEtMjcgMC00MS44MS0xMy4yOXQtMTQuOC00MC43MXEwLTI0LjgzIDEyLjYzLTM5LjJ0MzguMzItMTQuMzdxMjMuNTIgMCAzNS4zOSAxMi4zMXQxMS44NyAzMS42OHYxOC43MmEuNDUuNDUgMCAwIDEtLjQ1LjQ0aC03NC42MWEuNDYuNDYgMCAwIDAtLjQ1LjUxcTEuODUgMTQuNjEgMTAuODMgMjAuMTggOS4xNSA1LjY3IDI3Ljg3IDUuNjZhODguNTggODguNTggMCAwIDAgMTYuMTItMS41MiA4MC4xNCA4MC4xNCAwIDAgMCAxMy43Ny0zLjY5LjQ0LjQ0IDAgMCAxIC42LjQxdjE2LjQ4YS40Ni40NiAwIDAgMS0uMjcuNDIgNjguNDQgNjguNDQgMCAwIDEtMTUuNzQgNC40NSAxMTUuMzUgMTE1LjM1IDAgMCAxLTE5LjI3IDEuNTJabS0zMy41Mi01OS44OWg1My43NmEuNDUuNDUgMCAwIDAgLjQ1LS40NHYtNi43NHEwLTEwLjY4LTUuODgtMTYuNjZ0LTE5LjgyLTZxLTE2LjU0IDAtMjIuNzUgNy4xOHQtNi4yMSAyMi4yYS40Ni40NiAwIDAgMCAuNDUuNDRaTTEzMjMuNTkgODIxcS0xNCAwLTI0LjYxLTQuNzlhMzQuNDQgMzQuNDQgMCAwIDEtMTYuNTUtMTUuOXEtNS44OC0xMS4xMi01Ljg4LTI5LjgzIDAtMTguNTEgNi4zMi0zMS4yNWE0NC4zIDQ0LjMgMCAwIDEgMTcuNTMtMTkuMjcgNDkuMzkgNDkuMzkgMCAwIDEgMjUuMzYtNi41NCA1OC4zNSA1OC4zNSAwIDAgMSAxNi42NiAyLjE4IDUwLjkzIDUwLjkzIDAgMCAxIDEzLjM2IDYuMjkuNDQuNDQgMCAwIDAgLjY5LS4zNnYtNDlhLjQ0LjQ0IDAgMCAxIC40NC0uNDRoMjIuODVhLjQ0LjQ0IDAgMCAxIC40NC40NHYxNDUuODJhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMTkuNDJhLjQ0LjQ0IDAgMCAxLS40NC0uMzhsLTEuMzUtOWEuNDQuNDQgMCAwIDAtLjczLS4yNiA0Ni40NCA0Ni40NCAwIDAgMS0xNC42MyA4LjgyIDU2LjgzIDU2LjgzIDAgMCAxLTE5LjYgMy4wMlptNi4zMS0xNy44NnExNS44IDAgMjYuNDQtMTAuNzVhLjUxLjUxIDAgMCAwIC4xMy0uMzN2LTUxLjIzYS40NC40NCAwIDAgMC0uMTYtLjM0cS0xMC4yLTktMjUuNTQtOS0xNSAwLTIyLjY0IDEwdC03LjYzIDI5LjE4cTAgMTguNTEgNy4wOCAyNS40OHQyMi4zMiA2Ljk3WiIgY2xhc3M9ImZpbGwtYmxhY2sgZGFyazpmaWxsLXdoaXRlIj48L3BhdGg+PC9zdmc+" style="display:block;outline:none;border:none;text-decoration:none;margin:0 auto" width="170" />
              <p style="font-size:16px;line-height:26px;margin:16px 0">Hi ${name ?? 'there'},</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Welcome to ${APP_NAME}, the premier platform for mastering data structures and algorithms in JavaScript and TypeScript.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">I'm honored you chose to join the platform, and I hope you'll make the best use of it.</p>
              <table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center">
                <tbody>
                  <tr>
                    <td><a href="https://www.memoized.io/course" style="line-height:100%;text-decoration:none;display:block;max-width:100%;background-color:#84cc16;border-radius:15px;color:#fff;font-size:16px;text-align:center;padding:12px 12px 12px 12px" target="_blank"><span><!--[if mso]><i style="letter-spacing: 12px;mso-font-width:-100%;mso-text-raise:18" hidden>&nbsp;</i><![endif]--></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:9px">Explore content</span><span><!--[if mso]><i style="letter-spacing: 12px;mso-font-width:-100%" hidden>&nbsp;</i><![endif]--></span></a></td>
                  </tr>
                </tbody>
              </table>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Best,<br />Mario from ${APP_NAME}</p>
              <hr style="width:100%;border:none;border-top:1px solid #eaeaea;border-color:#cccccc;margin:20px 0" />
              <p style="font-size:12px;line-height:24px;margin:16px 0;color:#8898aa">&copy; Copyright ${new Date().getFullYear()}. All rights reserved.</p>
            </td>
          </tr>
        </tbody>
      </table>
    </body>
  </html>`
}

const SubscriptionEmail = (name: string | null) => {
  return `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html dir="ltr" lang="en">
    <head>
      <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
      <meta name="x-apple-disable-message-reformatting" />
    </head>
    <body style="background-color:#ffffff;font-family:-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,Oxygen-Sans,Ubuntu,Cantarell,&quot;Helvetica Neue&quot;,sans-serif">
      <table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:37.5em;margin:0 auto;padding:20px 0 48px">
        <tbody>
          <tr style="width:100%">
            <td>
              <img alt="Logo" height="50" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJMYXllcl8xIiBkYXRhLW5hbWU9IkxheWVyIDEiIHZpZXdCb3g9IjEyMS41Njk5OTIwNjU0Mjk2OSA2MDQuNzg5OTc4MDI3MzQzOCAxMjU4LjYyOTcxNDk2NTgyMDMgMjE2LjIyNDM2NTIzNDM3NSIgY2xhc3M9ImgtNyI+PGRlZnM+PHN0eWxlPgogICAgICAgICAgICAuY2xzLTF7ZmlsbDojODRjYzE2O30KICAgICAgICAgICAgLmNscy0ye2ZpbGw6bm9uZTtzdHJva2U6Izg0Y2MxNjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7fQogICAgICAgICAgPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTI2MC4zMiA2MzEuNDhoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5ek0yNDQuOSA2NTguMTloLTMwLjgzbDE1LjQyLTI2LjcgMTUuNDEgMjYuN3pNMjc1Ljc0IDY1OC4xOUgyNDQuOWwxNS40Mi0yNi43IDE1LjQyIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjI5LjQ5IDY4NC44OWgtMzAuODRsMTUuNDItMjYuNyAxNS40MiAyNi43eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTIxNC4wNyA3MTEuNTdoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5ek0yNDQuOSA3MTEuNTdoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5ek0yOTEuMTUgNjg0Ljg5aC0zMC44M2wxNS40Mi0yNi43IDE1LjQxIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc0IDcxMS41N0gyNDQuOWwxNS40Mi0yNi42OSAxNS40MiAyNi42OXpNMzA2LjU3IDcxMS41N2gtMzAuODNsMTUuNDEtMjYuNjkgMTUuNDIgMjYuNjl6TTE5OC42NSA3MzguMjdoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTE4My4yNCA3NjQuOTZIMTUyLjRsMTUuNDItMjYuNyAxNS40MiAyNi43ek0yMTQuMDcgNzY0Ljk2aC0zMC44M2wxNS40MS0yNi43IDE1LjQyIDI2Ljd6TTE2Ny44MiA3OTEuNjZoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTE1Mi40IDgxOC4zNWgtMzAuODNsMTUuNDItMjYuNyAxNS40MSAyNi43ek0xODMuMjQgODE4LjM1SDE1Mi40bDE1LjQyLTI2LjcgMTUuNDIgMjYuN3pNMjI5LjQ5IDc5MS42NmgtMzAuODRsMTUuNDItMjYuNjkgMTUuNDIgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjE0LjA3IDgxOC4zNWgtMzAuODNsMTUuNDEtMjYuNyAxNS40MiAyNi43ek0yNDQuOSA4MTguMzVoLTMwLjgzbDE1LjQyLTI2LjcgMTUuNDEgMjYuN3pNMjkxLjE1IDc5MS42NmgtMzAuODNsMTUuNDItMjYuNjkgMTUuNDEgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc0IDgxOC4zNUgyNDQuOWwxNS40Mi0yNi43IDE1LjQyIDI2Ljd6TTMwNi41NyA4MTguMzVoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3pNMzUyLjgyIDc5MS42NmgtMzAuODRsMTUuNDItMjYuNjkgMTUuNDIgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMzM3LjQgODE4LjM1aC0zMC44M2wxNS40MS0yNi43IDE1LjQyIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMzY4LjIzIDgxOC4zNUgzMzcuNGwxNS40Mi0yNi43IDE1LjQxIDI2Ljd6TTMyMS45OCA3MzguMjhoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTMwNi41NyA3NjQuOTdoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3oiIGNsYXNzPSJjbHMtMSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzcuNCA3NjQuOTdoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3oiIGNsYXNzPSJjbHMtMSI+PC9wYXRoPjxwYXRoIGQ9Im0yNDQuOSA4MTguMzcgNjEuNjctMTA2Ljc5IDYxLjY2IDEwNi43OUgyNDQuOXpNMTIxLjU3IDgxOC4zN2w2MS42Ny0xMDYuNzkgNjEuNjYgMTA2Ljc5SDEyMS41N3oiIGNsYXNzPSJjbHMtMiI+PC9wYXRoPjxwYXRoIGQ9Ik0yNzcuMTkgNzY1SDMzNmEuODQuODQgMCAwIDEgLjcyIDEuMjZsLTI5LjM4IDUwLjg4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTI5LjM4LTUwLjg4YS44NC44NCAwIDAgMSAuNjgtMS4yNlpNMjkyLjYxIDczOC4yOWgyNy45MmEuODMuODMgMCAwIDEgLjczIDEuMjVsLTE0IDI0LjE4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTE0LTI0LjE4YS44My44MyAwIDAgMSAuOC0xLjI1Wk0zMjMuNDQgNzkxLjY3aDI3LjkyYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44MS0xLjI2Wk0yNjEuNzcgNzkxLjY3aDI3LjkzYS44NC44NCAwIDAgMSAuNzIgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44LTEuMjZaTTE1My44NiA3NjVoNTguNzVhLjg0Ljg0IDAgMCAxIC43MyAxLjI2TDE4NCA4MTcuMTJhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMjkuMzgtNTAuODhhLjg0Ljg0IDAgMCAxIC42OS0xLjI0Wk0xNjkuMjcgNzM4LjI5aDI3LjkzYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC43OS0xLjI2Wk0yMDAuMTEgNzkxLjY4SDIyOGEuODQuODQgMCAwIDEgLjczIDEuMjZsLTE0IDI0LjE4YS44NS44NSAwIDAgMS0xLjQ2IDBsLTE0LTI0LjE4YS44NC44NCAwIDAgMSAuODQtMS4yNlpNMTM4LjQ0IDc5MS42OGgyNy45M2EuODQuODQgMCAwIDEgLjcyIDEuMjZsLTE0IDI0LjE4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTE0LTI0LjE4YS44NC44NCAwIDAgMSAuOC0xLjI2Wk0xODMuMjQgNzExLjU5IDI0NC45IDYwNC44bDYxLjY3IDEwNi43OUgxODMuMjR6IiBjbGFzcz0iY2xzLTIiPjwvcGF0aD48cGF0aCBkPSJNMjE1LjUyIDY1OC4yaDU4Ljc2YS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMjkuMzggNTAuODdhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMjkuMzctNTAuODdhLjg0Ljg0IDAgMCAxIC43Mi0xLjI2Wk0yMzAuOTQgNjMxLjUxaDI3LjkyYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMTdhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMTdhLjg0Ljg0IDAgMCAxIC44MS0xLjI2Wk0yNjEuNzcgNjg0Ljg5aDI3LjkzYS44NC44NCAwIDAgMSAuNzIgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44LTEuMjZaTTIwMC4xMSA2ODQuODlIMjI4YS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44NC0xLjI2WiIgY2xhc3M9ImNscy0yIj48L3BhdGg+PHBhdGggZD0iTTM5Mi42NyA4MTguMzVWNzE2YS40NS40NSAwIDAgMSAuNDUtLjQ1SDQxNGEuNDUuNDUgMCAwIDEgLjQ1LjRsMSA5LjY5YS40NS40NSAwIDAgMCAuNzIuMyA2MS43OCA2MS43OCAwIDAgMSAxNi4xMy05LjA4IDU0LjY2IDU0LjY2IDAgMCAxIDE5LjYtMy40OXExMS4xIDAgMTcuMzEgMy42YTIzLjkzIDIzLjkzIDAgMCAxIDkuMjMgOS40NC40My40MyAwIDAgMCAuNjUuMTMgNjQuNTMgNjQuNTMgMCAwIDEgMTYuMTQtOS4zNnE5LjM2LTMuODEgMjIuNDMtMy44MSAxNy44NyAwIDI2LjM1IDkuMTV0OC40OSAyOC4wOXY2Ny43MWEuNDQuNDQgMCAwIDEtLjQ0LjQ1aC0yMi40MWEuNDUuNDUgMCAwIDEtLjQ1LS40NVY3NTNxMC0xMi01LTE2Ljc2dC0xNi4zNC00Ljc5YTM4LjA2IDM4LjA2IDAgMCAwLTE0IDIuNjEgMzAuMzQgMzAuMzQgMCAwIDAtMTEuMjcgNy42Ni40NS40NSAwIDAgMC0uMS40MiAyNy45NCAyNy45NCAwIDAgMSAuODEgNC43N2MuMTQgMS43NC4yMiAzLjYzLjIyIDUuNjZ2NjUuNzVhLjQ1LjQ1IDAgMCAxLS40NS40NWgtMjEuMWEuNDUuNDUgMCAwIDEtLjQ1LS40NXYtNjUuMXEwLTExLjMxLTMuOTItMTYuNTV0LTE0LjgxLTUuMjJhMzAuNzQgMzAuNzQgMCAwIDAtMTQuNDggMy41OSA1Ny4zMiA1Ny4zMiAwIDAgMC0xMi4xNSA4LjQ3LjQxLjQxIDAgMCAwLS4xNS4zM3Y3NC40OGEuNDUuNDUgMCAwIDEtLjQ1LjQ1aC0yMi40YS40NS40NSAwIDAgMS0uNDktLjQyWk02MjkuMTYgODIxcS0yNyAwLTQxLjgxLTEzLjI5VDU3Mi41NCA3NjdxMC0yNC44MyAxMi42My0zOS4ydDM4LjMyLTE0LjM3cTIzLjUyIDAgMzUuMzkgMTIuMzF0MTEuODcgMzEuNjh2MTguNzJhLjQ1LjQ1IDAgMCAxLS40NS40NGgtNzQuNjFhLjQ1LjQ1IDAgMCAwLS40NC41MXExLjgzIDE0LjYxIDEwLjgyIDIwLjE4IDkuMTUgNS42NyAyNy44OCA1LjY2YTg4LjU2IDg4LjU2IDAgMCAwIDE2LjExLTEuNTIgODAuNTIgODAuNTIgMCAwIDAgMTMuNzgtMy42OS40My40MyAwIDAgMSAuNTkuNDF2MTYuNDhhLjQ2LjQ2IDAgMCAxLS4yNy40MiA2OC41IDY4LjUgMCAwIDEtMTUuNzMgNC40NSAxMTUuNTIgMTE1LjUyIDAgMCAxLTE5LjI3IDEuNTJabS0zMy41Mi01OS44OWg1My43NmEuNDQuNDQgMCAwIDAgLjQ0LS40NHYtNi43NHEwLTEwLjY4LTUuODgtMTYuNjZ0LTE5LjgxLTZxLTE2LjU2IDAtMjIuNzYgNy4xOHQtNi4yIDIyLjJhLjQ1LjQ1IDAgMCAwIC40NS40NFpNNjkzLjgzIDgxOC4zNVY3MTZhLjQ1LjQ1IDAgMCAxIC40NC0uNDVoMjAuOTNhLjQ0LjQ0IDAgMCAxIC40NC40bDEgOS42OWEuNDQuNDQgMCAwIDAgLjcxLjMgNjEuNjcgNjEuNjcgMCAwIDEgMTYuMTQtOS4wOCA1NC42NiA1NC42NiAwIDAgMSAxOS42LTMuNDlxMTEuMSAwIDE3LjMxIDMuNmEyMy44NCAyMy44NCAwIDAgMSA5LjIyIDkuNDQuNDQuNDQgMCAwIDAgLjY2LjEzIDY0LjUzIDY0LjUzIDAgMCAxIDE2LjE0LTkuMzZxOS4zNi0zLjgxIDIyLjQzLTMuODEgMTcuODUgMCAyNi4zNSA5LjE1dDguNDkgMjguMDl2NjcuNzFhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMjIuNDRhLjQ1LjQ1IDAgMCAxLS40NS0uNDVWNzUzcTAtMTItNS0xNi43NlQ4MDkgNzMxLjQ4YTM4IDM4IDAgMCAwLTE0IDIuNjEgMzAuMjYgMzAuMjYgMCAwIDAtMTEuMjcgNy42Ni40NS40NSAwIDAgMC0uMS40MiAyNy45NCAyNy45NCAwIDAgMSAuODEgNC43N2MuMTQgMS43NC4yMSAzLjYzLjIxIDUuNjZ2NjUuNzVhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMjEuMWEuNDUuNDUgMCAwIDEtLjQ1LS40NXYtNjUuMXEwLTExLjMxLTMuOTItMTYuNTV0LTE0LjgxLTUuMjJhMzAuNzEgMzAuNzEgMCAwIDAtMTQuNDggMy41OSA1Ny42NCA1Ny42NCAwIDAgMC0xMi4xNiA4LjQ3LjQ0LjQ0IDAgMCAwLS4xNC4zM3Y3NC40OGEuNDUuNDUgMCAwIDEtLjQ1LjQ1aC0yMi40M2EuNDUuNDUgMCAwIDEtLjQ0LS40NVpNOTI3LjQ4IDgyMXEtMjcuODcgMC00MC44My0xMy45NHQtMTIuOTUtMzkuODdxMC0yNS45MiAxMy4wNi0zOS44NXQ0MC43Mi0xMy45NHEyNy44NyAwIDQwLjk0IDEzLjk0dDEzLjA3IDM5Ljg1cTAgMjUuOTItMTMgMzkuODVUOTI3LjQ4IDgyMVptMC0yMHExNi4zNCAwIDIzLjE5LTh0Ni44Ni0yNS44cTAtMTcuODUtNi44Ni0yNS43dC0yMy4xOS03Ljg0cS0xNi4xMSAwLTIzIDcuODR0LTYuODYgMjUuN3EwIDE3Ljg1IDYuODYgMjUuOHQyMyA3Ljk0Wk0xMDEwLjg5IDgxOC4zNVY3MzQuMWEuNDUuNDUgMCAwIDAtLjQ1LS40NWgtMTIuNjFhLjQ1LjQ1IDAgMCAxLS40NS0uNDRWNzE2YS40NS40NSAwIDAgMSAuNDUtLjQ1aDM2LjM1YS40NS40NSAwIDAgMSAuNDQuNDV2MTAyLjM1YS40NS40NSAwIDAgMS0uNDQuNDVoLTIyLjg1YS40NS40NSAwIDAgMS0uNDQtLjQ1Wm0tMi0xMjQuNzd2LTE4LjcxYS40NS40NSAwIDAgMSAuNDQtLjQ1aDI1YS40NS40NSAwIDAgMSAuNDUuNDV2MTguNzFhLjQ1LjQ1IDAgMCAxLS40NS40NGgtMjVhLjQ0LjQ0IDAgMCAxLS40LS40NFpNMTA1Ny45MiA4MTguMzV2LTExLjgxYS40Mi40MiAwIDAgMSAuMS0uMjhsNTUuNzMtNzAuNThhLjQ1LjQ1IDAgMCAwLS4zNS0uNzJIMTA2MWEuNDUuNDUgMCAwIDEtLjQ1LS40NVY3MTZhLjQ1LjQ1IDAgMCAxIC40NS0uNDVoODIuMDdhLjQ1LjQ1IDAgMCAxIC40NS40NXYxNGEuMzkuMzkgMCAwIDEtLjEuMjdsLTU0LjY0IDY5LjQ5YS40NS40NSAwIDAgMCAuMzUuNzNoNTUuNDdhLjQ0LjQ0IDAgMCAxIC40NC40NHYxNy40YS40NS40NSAwIDAgMS0uNDQuNDVoLTg2LjIxYS40NS40NSAwIDAgMS0uNDctLjQzWk0xMjE2LjIzIDgyMXEtMjcgMC00MS44MS0xMy4yOXQtMTQuOC00MC43MXEwLTI0LjgzIDEyLjYzLTM5LjJ0MzguMzItMTQuMzdxMjMuNTIgMCAzNS4zOSAxMi4zMXQxMS44NyAzMS42OHYxOC43MmEuNDUuNDUgMCAwIDEtLjQ1LjQ0aC03NC42MWEuNDYuNDYgMCAwIDAtLjQ1LjUxcTEuODUgMTQuNjEgMTAuODMgMjAuMTggOS4xNSA1LjY3IDI3Ljg3IDUuNjZhODguNTggODguNTggMCAwIDAgMTYuMTItMS41MiA4MC4xNCA4MC4xNCAwIDAgMCAxMy43Ny0zLjY5LjQ0LjQ0IDAgMCAxIC42LjQxdjE2LjQ4YS40Ni40NiAwIDAgMS0uMjcuNDIgNjguNDQgNjguNDQgMCAwIDEtMTUuNzQgNC40NSAxMTUuMzUgMTE1LjM1IDAgMCAxLTE5LjI3IDEuNTJabS0zMy41Mi01OS44OWg1My43NmEuNDUuNDUgMCAwIDAgLjQ1LS40NHYtNi43NHEwLTEwLjY4LTUuODgtMTYuNjZ0LTE5LjgyLTZxLTE2LjU0IDAtMjIuNzUgNy4xOHQtNi4yMSAyMi4yYS40Ni40NiAwIDAgMCAuNDUuNDRaTTEzMjMuNTkgODIxcS0xNCAwLTI0LjYxLTQuNzlhMzQuNDQgMzQuNDQgMCAwIDEtMTYuNTUtMTUuOXEtNS44OC0xMS4xMi01Ljg4LTI5LjgzIDAtMTguNTEgNi4zMi0zMS4yNWE0NC4zIDQ0LjMgMCAwIDEgMTcuNTMtMTkuMjcgNDkuMzkgNDkuMzkgMCAwIDEgMjUuMzYtNi41NCA1OC4zNSA1OC4zNSAwIDAgMSAxNi42NiAyLjE4IDUwLjkzIDUwLjkzIDAgMCAxIDEzLjM2IDYuMjkuNDQuNDQgMCAwIDAgLjY5LS4zNnYtNDlhLjQ0LjQ0IDAgMCAxIC40NC0uNDRoMjIuODVhLjQ0LjQ0IDAgMCAxIC40NC40NHYxNDUuODJhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMTkuNDJhLjQ0LjQ0IDAgMCAxLS40NC0uMzhsLTEuMzUtOWEuNDQuNDQgMCAwIDAtLjczLS4yNiA0Ni40NCA0Ni40NCAwIDAgMS0xNC42MyA4LjgyIDU2LjgzIDU2LjgzIDAgMCAxLTE5LjYgMy4wMlptNi4zMS0xNy44NnExNS44IDAgMjYuNDQtMTAuNzVhLjUxLjUxIDAgMCAwIC4xMy0uMzN2LTUxLjIzYS40NC40NCAwIDAgMC0uMTYtLjM0cS0xMC4yLTktMjUuNTQtOS0xNSAwLTIyLjY0IDEwdC03LjYzIDI5LjE4cTAgMTguNTEgNy4wOCAyNS40OHQyMi4zMiA2Ljk3WiIgY2xhc3M9ImZpbGwtYmxhY2sgZGFyazpmaWxsLXdoaXRlIj48L3BhdGg+PC9zdmc+" style="display:block;outline:none;border:none;text-decoration:none;margin:0 auto" width="170" />
              <p style="font-size:16px;line-height:26px;margin:16px 0">Hi ${name ?? 'there'},</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Thank you for upgrading to the premium subscription of ${APP_NAME}! I'm honored to have you on board as a valued premium member.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">With your premium subscription, you now have access to exclusive content and features to enhance your learning experience in JavaScript and TypeScript data structures and algorithms.</p>
              <table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center">
                <tbody>
                  <tr>
                    <td><a href="https://discord.gg/BECQFfS3" style="line-height:100%;text-decoration:none;display:block;max-width:100%;background-color:#84cc16;border-radius:15px;color:#fff;font-size:16px;text-align:center;padding:12px 12px 12px 12px" target="_blank"><span><!--[if mso]><i style="letter-spacing: 12px;mso-font-width:-100%;mso-text-raise:18" hidden>&nbsp;</i><![endif]--></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:9px">Join private Discord</span><span><!--[if mso]><i style="letter-spacing: 12px;mso-font-width:-100%" hidden>&nbsp;</i><![endif]--></span></a></td>
                  </tr>
                </tbody>
              </table>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Here are some highlights of your premium subscription benefits:</p>
              <ul style="font-size:16px;line-height:26px;margin:16px 0">
                <li>Access to all current and future premium content</li>
                <li>Free updates and new features as they're released</li>
                <li>Priority support</li>
              </ul>
              <p style="font-size:16px;line-height:26px;margin:16px 0">If you have any questions about your premium subscription or need assistance, please don't hesitate to reach out.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Happy coding!</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Best,<br />Mario from ${APP_NAME}</p>
              <hr style="width:100%;border:none;border-top:1px solid #eaeaea;border-color:#cccccc;margin:20px 0" />
              <p style="font-size:12px;line-height:24px;margin:16px 0;color:#8898aa">&copy; Copyright ${new Date().getFullYear()}. All rights reserved.</p>
            </td>
          </tr>
        </tbody>
      </table>
    </body>
  </html>`
}

const PurchaseEmail = (name: string | null) => {
  return `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html dir="ltr" lang="en">
    <head>
      <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
      <meta name="x-apple-disable-message-reformatting" />
    </head>
    <body style="background-color:#ffffff;font-family:-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,Oxygen-Sans,Ubuntu,Cantarell,&quot;Helvetica Neue&quot;,sans-serif">
      <table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:37.5em;margin:0 auto;padding:20px 0 48px">
        <tbody>
          <tr style="width:100%">
            <td>
              <img alt="Logo" height="50" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJMYXllcl8xIiBkYXRhLW5hbWU9IkxheWVyIDEiIHZpZXdCb3g9IjEyMS41Njk5OTIwNjU0Mjk2OSA2MDQuNzg5OTc4MDI3MzQzOCAxMjU4LjYyOTcxNDk2NTgyMDMgMjE2LjIyNDM2NTIzNDM3NSIgY2xhc3M9ImgtNyI+PGRlZnM+PHN0eWxlPgogICAgICAgICAgICAuY2xzLTF7ZmlsbDojODRjYzE2O30KICAgICAgICAgICAgLmNscy0ye2ZpbGw6bm9uZTtzdHJva2U6Izg0Y2MxNjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7fQogICAgICAgICAgPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTI2MC4zMiA2MzEuNDhoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5ek0yNDQuOSA2NTguMTloLTMwLjgzbDE1LjQyLTI2LjcgMTUuNDEgMjYuN3pNMjc1Ljc0IDY1OC4xOUgyNDQuOWwxNS40Mi0yNi43IDE1LjQyIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjI5LjQ5IDY4NC44OWgtMzAuODRsMTUuNDItMjYuNyAxNS40MiAyNi43eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTIxNC4wNyA3MTEuNTdoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5ek0yNDQuOSA3MTEuNTdoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5ek0yOTEuMTUgNjg0Ljg5aC0zMC44M2wxNS40Mi0yNi43IDE1LjQxIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc0IDcxMS41N0gyNDQuOWwxNS40Mi0yNi42OSAxNS40MiAyNi42OXpNMzA2LjU3IDcxMS41N2gtMzAuODNsMTUuNDEtMjYuNjkgMTUuNDIgMjYuNjl6TTE5OC42NSA3MzguMjdoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTE4My4yNCA3NjQuOTZIMTUyLjRsMTUuNDItMjYuNyAxNS40MiAyNi43ek0yMTQuMDcgNzY0Ljk2aC0zMC44M2wxNS40MS0yNi43IDE1LjQyIDI2Ljd6TTE2Ny44MiA3OTEuNjZoLTMwLjgzbDE1LjQxLTI2LjY5IDE1LjQyIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTE1Mi40IDgxOC4zNWgtMzAuODNsMTUuNDItMjYuNyAxNS40MSAyNi43ek0xODMuMjQgODE4LjM1SDE1Mi40bDE1LjQyLTI2LjcgMTUuNDIgMjYuN3pNMjI5LjQ5IDc5MS42NmgtMzAuODRsMTUuNDItMjYuNjkgMTUuNDIgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjE0LjA3IDgxOC4zNWgtMzAuODNsMTUuNDEtMjYuNyAxNS40MiAyNi43ek0yNDQuOSA4MTguMzVoLTMwLjgzbDE1LjQyLTI2LjcgMTUuNDEgMjYuN3pNMjkxLjE1IDc5MS42NmgtMzAuODNsMTUuNDItMjYuNjkgMTUuNDEgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMjc1Ljc0IDgxOC4zNUgyNDQuOWwxNS40Mi0yNi43IDE1LjQyIDI2Ljd6TTMwNi41NyA4MTguMzVoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3pNMzUyLjgyIDc5MS42NmgtMzAuODRsMTUuNDItMjYuNjkgMTUuNDIgMjYuNjl6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMzM3LjQgODE4LjM1aC0zMC44M2wxNS40MS0yNi43IDE1LjQyIDI2Ljd6IiBjbGFzcz0iY2xzLTEiPjwvcGF0aD48cGF0aCBkPSJNMzY4LjIzIDgxOC4zNUgzMzcuNGwxNS40Mi0yNi43IDE1LjQxIDI2Ljd6TTMyMS45OCA3MzguMjhoLTMwLjgzbDE1LjQyLTI2LjY5IDE1LjQxIDI2LjY5eiIgY2xhc3M9ImNscy0xIj48L3BhdGg+PHBhdGggZD0iTTMwNi41NyA3NjQuOTdoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3oiIGNsYXNzPSJjbHMtMSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzcuNCA3NjQuOTdoLTMwLjgzbDE1LjQxLTI2LjcgMTUuNDIgMjYuN3oiIGNsYXNzPSJjbHMtMSI+PC9wYXRoPjxwYXRoIGQ9Im0yNDQuOSA4MTguMzcgNjEuNjctMTA2Ljc5IDYxLjY2IDEwNi43OUgyNDQuOXpNMTIxLjU3IDgxOC4zN2w2MS42Ny0xMDYuNzkgNjEuNjYgMTA2Ljc5SDEyMS41N3oiIGNsYXNzPSJjbHMtMiI+PC9wYXRoPjxwYXRoIGQ9Ik0yNzcuMTkgNzY1SDMzNmEuODQuODQgMCAwIDEgLjcyIDEuMjZsLTI5LjM4IDUwLjg4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTI5LjM4LTUwLjg4YS44NC44NCAwIDAgMSAuNjgtMS4yNlpNMjkyLjYxIDczOC4yOWgyNy45MmEuODMuODMgMCAwIDEgLjczIDEuMjVsLTE0IDI0LjE4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTE0LTI0LjE4YS44My44MyAwIDAgMSAuOC0xLjI1Wk0zMjMuNDQgNzkxLjY3aDI3LjkyYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44MS0xLjI2Wk0yNjEuNzcgNzkxLjY3aDI3LjkzYS44NC44NCAwIDAgMSAuNzIgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44LTEuMjZaTTE1My44NiA3NjVoNTguNzVhLjg0Ljg0IDAgMCAxIC43MyAxLjI2TDE4NCA4MTcuMTJhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMjkuMzgtNTAuODhhLjg0Ljg0IDAgMCAxIC42OS0xLjI0Wk0xNjkuMjcgNzM4LjI5aDI3LjkzYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC43OS0xLjI2Wk0yMDAuMTEgNzkxLjY4SDIyOGEuODQuODQgMCAwIDEgLjczIDEuMjZsLTE0IDI0LjE4YS44NS44NSAwIDAgMS0xLjQ2IDBsLTE0LTI0LjE4YS44NC44NCAwIDAgMSAuODQtMS4yNlpNMTM4LjQ0IDc5MS42OGgyNy45M2EuODQuODQgMCAwIDEgLjcyIDEuMjZsLTE0IDI0LjE4YS44NC44NCAwIDAgMS0xLjQ1IDBsLTE0LTI0LjE4YS44NC44NCAwIDAgMSAuOC0xLjI2Wk0xODMuMjQgNzExLjU5IDI0NC45IDYwNC44bDYxLjY3IDEwNi43OUgxODMuMjR6IiBjbGFzcz0iY2xzLTIiPjwvcGF0aD48cGF0aCBkPSJNMjE1LjUyIDY1OC4yaDU4Ljc2YS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMjkuMzggNTAuODdhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMjkuMzctNTAuODdhLjg0Ljg0IDAgMCAxIC43Mi0xLjI2Wk0yMzAuOTQgNjMxLjUxaDI3LjkyYS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMTdhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMTdhLjg0Ljg0IDAgMCAxIC44MS0xLjI2Wk0yNjEuNzcgNjg0Ljg5aDI3LjkzYS44NC44NCAwIDAgMSAuNzIgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDUgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44LTEuMjZaTTIwMC4xMSA2ODQuODlIMjI4YS44NC44NCAwIDAgMSAuNzMgMS4yNmwtMTQgMjQuMThhLjg0Ljg0IDAgMCAxLTEuNDYgMGwtMTQtMjQuMThhLjg0Ljg0IDAgMCAxIC44NC0xLjI2WiIgY2xhc3M9ImNscy0yIj48L3BhdGg+PHBhdGggZD0iTTM5Mi42NyA4MTguMzVWNzE2YS40NS40NSAwIDAgMSAuNDUtLjQ1SDQxNGEuNDUuNDUgMCAwIDEgLjQ1LjRsMSA5LjY5YS40NS40NSAwIDAgMCAuNzIuMyA2MS43OCA2MS43OCAwIDAgMSAxNi4xMy05LjA4IDU0LjY2IDU0LjY2IDAgMCAxIDE5LjYtMy40OXExMS4xIDAgMTcuMzEgMy42YTIzLjkzIDIzLjkzIDAgMCAxIDkuMjMgOS40NC40My40MyAwIDAgMCAuNjUuMTMgNjQuNTMgNjQuNTMgMCAwIDEgMTYuMTQtOS4zNnE5LjM2LTMuODEgMjIuNDMtMy44MSAxNy44NyAwIDI2LjM1IDkuMTV0OC40OSAyOC4wOXY2Ny43MWEuNDQuNDQgMCAwIDEtLjQ0LjQ1aC0yMi40MWEuNDUuNDUgMCAwIDEtLjQ1LS40NVY3NTNxMC0xMi01LTE2Ljc2dC0xNi4zNC00Ljc5YTM4LjA2IDM4LjA2IDAgMCAwLTE0IDIuNjEgMzAuMzQgMzAuMzQgMCAwIDAtMTEuMjcgNy42Ni40NS40NSAwIDAgMC0uMS40MiAyNy45NCAyNy45NCAwIDAgMSAuODEgNC43N2MuMTQgMS43NC4yMiAzLjYzLjIyIDUuNjZ2NjUuNzVhLjQ1LjQ1IDAgMCAxLS40NS40NWgtMjEuMWEuNDUuNDUgMCAwIDEtLjQ1LS40NXYtNjUuMXEwLTExLjMxLTMuOTItMTYuNTV0LTE0LjgxLTUuMjJhMzAuNzQgMzAuNzQgMCAwIDAtMTQuNDggMy41OSA1Ny4zMiA1Ny4zMiAwIDAgMC0xMi4xNSA4LjQ3LjQxLjQxIDAgMCAwLS4xNS4zM3Y3NC40OGEuNDUuNDUgMCAwIDEtLjQ1LjQ1aC0yMi40YS40NS40NSAwIDAgMS0uNDktLjQyWk02MjkuMTYgODIxcS0yNyAwLTQxLjgxLTEzLjI5VDU3Mi41NCA3NjdxMC0yNC44MyAxMi42My0zOS4ydDM4LjMyLTE0LjM3cTIzLjUyIDAgMzUuMzkgMTIuMzF0MTEuODcgMzEuNjh2MTguNzJhLjQ1LjQ1IDAgMCAxLS40NS40NGgtNzQuNjFhLjQ1LjQ1IDAgMCAwLS40NC41MXExLjgzIDE0LjYxIDEwLjgyIDIwLjE4IDkuMTUgNS42NyAyNy44OCA1LjY2YTg4LjU2IDg4LjU2IDAgMCAwIDE2LjExLTEuNTIgODAuNTIgODAuNTIgMCAwIDAgMTMuNzgtMy42OS40My40MyAwIDAgMSAuNTkuNDF2MTYuNDhhLjQ2LjQ2IDAgMCAxLS4yNy40MiA2OC41IDY4LjUgMCAwIDEtMTUuNzMgNC40NSAxMTUuNTIgMTE1LjUyIDAgMCAxLTE5LjI3IDEuNTJabS0zMy41Mi01OS44OWg1My43NmEuNDQuNDQgMCAwIDAgLjQ0LS40NHYtNi43NHEwLTEwLjY4LTUuODgtMTYuNjZ0LTE5LjgxLTZxLTE2LjU2IDAtMjIuNzYgNy4xOHQtNi4yIDIyLjJhLjQ1LjQ1IDAgMCAwIC40NS40NFpNNjkzLjgzIDgxOC4zNVY3MTZhLjQ1LjQ1IDAgMCAxIC40NC0uNDVoMjAuOTNhLjQ0LjQ0IDAgMCAxIC40NC40bDEgOS42OWEuNDQuNDQgMCAwIDAgLjcxLjMgNjEuNjcgNjEuNjcgMCAwIDEgMTYuMTQtOS4wOCA1NC42NiA1NC42NiAwIDAgMSAxOS42LTMuNDlxMTEuMSAwIDE3LjMxIDMuNmEyMy44NCAyMy44NCAwIDAgMSA5LjIyIDkuNDQuNDQuNDQgMCAwIDAgLjY2LjEzIDY0LjUzIDY0LjUzIDAgMCAxIDE2LjE0LTkuMzZxOS4zNi0zLjgxIDIyLjQzLTMuODEgMTcuODUgMCAyNi4zNSA5LjE1dDguNDkgMjguMDl2NjcuNzFhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMjIuNDRhLjQ1LjQ1IDAgMCAxLS40NS0uNDVWNzUzcTAtMTItNS0xNi43NlQ4MDkgNzMxLjQ4YTM4IDM4IDAgMCAwLTE0IDIuNjEgMzAuMjYgMzAuMjYgMCAwIDAtMTEuMjcgNy42Ni40NS40NSAwIDAgMC0uMS40MiAyNy45NCAyNy45NCAwIDAgMSAuODEgNC43N2MuMTQgMS43NC4yMSAzLjYzLjIxIDUuNjZ2NjUuNzVhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMjEuMWEuNDUuNDUgMCAwIDEtLjQ1LS40NXYtNjUuMXEwLTExLjMxLTMuOTItMTYuNTV0LTE0LjgxLTUuMjJhMzAuNzEgMzAuNzEgMCAwIDAtMTQuNDggMy41OSA1Ny42NCA1Ny42NCAwIDAgMC0xMi4xNiA4LjQ3LjQ0LjQ0IDAgMCAwLS4xNC4zM3Y3NC40OGEuNDUuNDUgMCAwIDEtLjQ1LjQ1aC0yMi40M2EuNDUuNDUgMCAwIDEtLjQ0LS40NVpNOTI3LjQ4IDgyMXEtMjcuODcgMC00MC44My0xMy45NHQtMTIuOTUtMzkuODdxMC0yNS45MiAxMy4wNi0zOS44NXQ0MC43Mi0xMy45NHEyNy44NyAwIDQwLjk0IDEzLjk0dDEzLjA3IDM5Ljg1cTAgMjUuOTItMTMgMzkuODVUOTI3LjQ4IDgyMVptMC0yMHExNi4zNCAwIDIzLjE5LTh0Ni44Ni0yNS44cTAtMTcuODUtNi44Ni0yNS43dC0yMy4xOS03Ljg0cS0xNi4xMSAwLTIzIDcuODR0LTYuODYgMjUuN3EwIDE3Ljg1IDYuODYgMjUuOHQyMyA3Ljk0Wk0xMDEwLjg5IDgxOC4zNVY3MzQuMWEuNDUuNDUgMCAwIDAtLjQ1LS40NWgtMTIuNjFhLjQ1LjQ1IDAgMCAxLS40NS0uNDRWNzE2YS40NS40NSAwIDAgMSAuNDUtLjQ1aDM2LjM1YS40NS40NSAwIDAgMSAuNDQuNDV2MTAyLjM1YS40NS40NSAwIDAgMS0uNDQuNDVoLTIyLjg1YS40NS40NSAwIDAgMS0uNDQtLjQ1Wm0tMi0xMjQuNzd2LTE4LjcxYS40NS40NSAwIDAgMSAuNDQtLjQ1aDI1YS40NS40NSAwIDAgMSAuNDUuNDV2MTguNzFhLjQ1LjQ1IDAgMCAxLS40NS40NGgtMjVhLjQ0LjQ0IDAgMCAxLS40LS40NFpNMTA1Ny45MiA4MTguMzV2LTExLjgxYS40Mi40MiAwIDAgMSAuMS0uMjhsNTUuNzMtNzAuNThhLjQ1LjQ1IDAgMCAwLS4zNS0uNzJIMTA2MWEuNDUuNDUgMCAwIDEtLjQ1LS40NVY3MTZhLjQ1LjQ1IDAgMCAxIC40NS0uNDVoODIuMDdhLjQ1LjQ1IDAgMCAxIC40NS40NXYxNGEuMzkuMzkgMCAwIDEtLjEuMjdsLTU0LjY0IDY5LjQ5YS40NS40NSAwIDAgMCAuMzUuNzNoNTUuNDdhLjQ0LjQ0IDAgMCAxIC40NC40NHYxNy40YS40NS40NSAwIDAgMS0uNDQuNDVoLTg2LjIxYS40NS40NSAwIDAgMS0uNDctLjQzWk0xMjE2LjIzIDgyMXEtMjcgMC00MS44MS0xMy4yOXQtMTQuOC00MC43MXEwLTI0LjgzIDEyLjYzLTM5LjJ0MzguMzItMTQuMzdxMjMuNTIgMCAzNS4zOSAxMi4zMXQxMS44NyAzMS42OHYxOC43MmEuNDUuNDUgMCAwIDEtLjQ1LjQ0aC03NC42MWEuNDYuNDYgMCAwIDAtLjQ1LjUxcTEuODUgMTQuNjEgMTAuODMgMjAuMTggOS4xNSA1LjY3IDI3Ljg3IDUuNjZhODguNTggODguNTggMCAwIDAgMTYuMTItMS41MiA4MC4xNCA4MC4xNCAwIDAgMCAxMy43Ny0zLjY5LjQ0LjQ0IDAgMCAxIC42LjQxdjE2LjQ4YS40Ni40NiAwIDAgMS0uMjcuNDIgNjguNDQgNjguNDQgMCAwIDEtMTUuNzQgNC40NSAxMTUuMzUgMTE1LjM1IDAgMCAxLTE5LjI3IDEuNTJabS0zMy41Mi01OS44OWg1My43NmEuNDUuNDUgMCAwIDAgLjQ1LS40NHYtNi43NHEwLTEwLjY4LTUuODgtMTYuNjZ0LTE5LjgyLTZxLTE2LjU0IDAtMjIuNzUgNy4xOHQtNi4yMSAyMi4yYS40Ni40NiAwIDAgMCAuNDUuNDRaTTEzMjMuNTkgODIxcS0xNCAwLTI0LjYxLTQuNzlhMzQuNDQgMzQuNDQgMCAwIDEtMTYuNTUtMTUuOXEtNS44OC0xMS4xMi01Ljg4LTI5LjgzIDAtMTguNTEgNi4zMi0zMS4yNWE0NC4zIDQ0LjMgMCAwIDEgMTcuNTMtMTkuMjcgNDkuMzkgNDkuMzkgMCAwIDEgMjUuMzYtNi41NCA1OC4zNSA1OC4zNSAwIDAgMSAxNi42NiAyLjE4IDUwLjkzIDUwLjkzIDAgMCAxIDEzLjM2IDYuMjkuNDQuNDQgMCAwIDAgLjY5LS4zNnYtNDlhLjQ0LjQ0IDAgMCAxIC40NC0uNDRoMjIuODVhLjQ0LjQ0IDAgMCAxIC40NC40NHYxNDUuODJhLjQ1LjQ1IDAgMCAxLS40NC40NWgtMTkuNDJhLjQ0LjQ0IDAgMCAxLS40NC0uMzhsLTEuMzUtOWEuNDQuNDQgMCAwIDAtLjczLS4yNiA0Ni40NCA0Ni40NCAwIDAgMS0xNC42MyA4LjgyIDU2LjgzIDU2LjgzIDAgMCAxLTE5LjYgMy4wMlptNi4zMS0xNy44NnExNS44IDAgMjYuNDQtMTAuNzVhLjUxLjUxIDAgMCAwIC4xMy0uMzN2LTUxLjIzYS40NC40NCAwIDAgMC0uMTYtLjM0cS0xMC4yLTktMjUuNTQtOS0xNSAwLTIyLjY0IDEwdC03LjYzIDI5LjE4cTAgMTguNTEgNy4wOCAyNS40OHQyMi4zMiA2Ljk3WiIgY2xhc3M9ImZpbGwtYmxhY2sgZGFyazpmaWxsLXdoaXRlIj48L3BhdGg+PC9zdmc+" style="display:block;outline:none;border:none;text-decoration:none;margin:0 auto" width="170" />
              <p style="font-size:16px;line-height:26px;margin:16px 0">Hi ${name ?? 'there'},</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Thank you for purchasing lifetime access to ${APP_NAME}! I'm thrilled to welcome you as a permanent member of our premium community.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">With your lifetime access, you now have unlimited, ongoing access to all the premium content and features. This includes current and future resources to enhance your learning experience in JavaScript and TypeScript data structures and algorithms.</p>
              <table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center">
                <tbody>
                  <tr>
                    <td><a href="https://discord.gg/BECQFfS3" style="line-height:100%;text-decoration:none;display:block;max-width:100%;background-color:#84cc16;border-radius:15px;color:#fff;font-size:16px;text-align:center;padding:12px 12px 12px 12px" target="_blank"><span><!--[if mso]><i style="letter-spacing: 12px;mso-font-width:-100%;mso-text-raise:18" hidden>&nbsp;</i><![endif]--></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:9px">Join private Discord</span><span><!--[if mso]><i style="letter-spacing: 12px;mso-font-width:-100%" hidden>&nbsp;</i><![endif]--></span></a></td>
                  </tr>
                </tbody>
              </table>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Here are some highlights of your lifetime access benefits:</p>
              <ul style="font-size:16px;line-height:26px;margin:16px 0">
                <li>Unlimited access to all current and future premium content</li>
                <li>Free updates and new features as they're released</li>
                <li>Exclusive lifetime member community</li>
                <li>Priority support for life</li>
              </ul>
              <p style="font-size:16px;line-height:26px;margin:16px 0">If you have any questions about your lifetime access or need assistance at any point, please don't hesitate to reach out. I'm here to support you throughout your learning journey.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">If you have any questions about your lifetime access or need assistance at any point, please don't hesitate to reach out. I'm here to support you throughout your learning journey.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">As a lifetime member, you have the unique opportunity to shape the future of ${APP_NAME}. You can directly contribute to platform improvements and suggest new content ideas by reaching out to me personally. Your input is invaluable in making ${APP_NAME} even better for everyone. I'm looking forward to hearing your ideas.</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Happy coding, and welcome to the ${APP_NAME} family for life!</p>
              <p style="font-size:16px;line-height:26px;margin:16px 0">Best,<br />Mario from ${APP_NAME}</p>
              <hr style="width:100%;border:none;border-top:1px solid #eaeaea;border-color:#cccccc;margin:20px 0" />
              <p style="font-size:12px;line-height:24px;margin:16px 0;color:#8898aa">&copy; Copyright ${new Date().getFullYear()}. All rights reserved.</p>
            </td>
          </tr>
        </tbody>
      </table>
    </body>
  </html>`
}

const emailTypeToContent = {
  welcome: {
    subject: `Welcome to ${APP_NAME}`,
    renderContent: WelcomeEmail,
  },
  subscription: {
    subject: `Thank you for subscribing to premium`,
    renderContent: SubscriptionEmail,
  },
  purchase: {
    subject: `Thank you for purchasing lifetime access`,
    renderContent: PurchaseEmail,
  },
}

export type SendEmailArgs = {
  from?: string
  to: string
  type: 'welcome' | 'subscription' | 'purchase'
  user: User
}

export async function sendEmail({
  from = 'info@memoized.io',
  to,
  type,
  user,
}: SendEmailArgs) {
  const { subject, renderContent } = emailTypeToContent[type]

  const html = renderContent(user.name)

  try {
    await resend.emails.send({
      from,
      to,
      subject,
      html,
    })
  } catch (error) {
    throw new ServiceError(`Failed to send email`)
  }
}
